<h1 align="center">
    <!-- <b> -->
        Funix.io<br>
    <!-- </b> -->
    åœ¨ Python ä¸­ä»¥æœ€å¿«æ·çš„æ–¹å¼æ„å»º Web ç¨‹åº
</h1>


<div align="center">

[![PyPI version](https://badge.fury.io/py/funix.svg)](https://badge.fury.io/py/funix)
[![](https://dcbadge.vercel.app/api/server/JyANAMUAHM?style=flat)](https://discord.gg/JyANAMUAHM)

<h4><a href="https://youtu.be/qDkzXS270Zo">å¯¼è§ˆè§†é¢‘</a> | <a href="#å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</a> |  <a href="#gallery">æ¼”ç¤ºå†…å®¹</a> | <a href="https://github.com/TexteaInc/funix-doc/blob/main/Reference.md">å¼€å‘æ‰‹å†Œ</a> </h4>

https://github.com/TexteaInc/funix/assets/438579/86868ab5-ed6e-46e5-8dc5-9e3e4a3cdc3f

</div>

## Funix æ˜¯ä»€ä¹ˆï¼Ÿ

* Funix å¯å°†æ™®é€šçš„ Python å‡½æ•°æˆ–ç±»è½¬æ¢ä¸ºç½‘ç»œåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å¯é€šè¿‡é“¾æ¥å…±äº«ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ã€‚
* Funix æµåŠ¨ä¸å±…ï¼Œå¯æˆä¸ºå‰ç«¯/åç«¯äº¦æˆ–å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œä¹Ÿå¯æˆä¸ºæ¶æ„/è¿ç»´å·¥ç¨‹å¸ˆï¼Œè¾…ä½æ‚¨è¿™æ ·çš„äººå·¥æ™ºèƒ½/æ•°æ®/ç§‘å­¦é¢†åŸŸçš„ç‹¬è¡Œä¾ ã€‚
* Funix ä¸ºé‚£äº›ç¼–å†™æœ€æ ¸å¿ƒã€æœ€å…·åˆ›æ–°æ€§ä»£ç ä¹‹äººï¼Œæä¾›æ— ä»£ç æˆ–ä½ä»£ç çš„è§£å†³æ–¹æ¡ˆã€‚
* Funix æ˜¯å¼€æºè½¯ä»¶ï¼Œå¯åœ¨ä¼ä¸šå†…éƒ¨éƒ¨ç½²ã€‚

## ä½¿ç”¨åœºæ™¯

* åˆåˆ›ä¼ä¸šï¼šå¿«é€Ÿæ„å»ºæ¼”ç¤ºäº§å“ï¼Œè¿­ä»£åŸå‹ï¼Œè·å–ç”¨æˆ·åé¦ˆå¹¶ç»Ÿè®¡æ•°æ®ï¼Œå‘æŠ•èµ„è€…æˆ–æ‚¨çš„æ¯äº²æ¨èã€‚
* åˆ›æˆå¼ AIï¼šè®©äººä»¬ä¸ä½ çš„ GenAI æ¨¡å‹æˆ–æƒ³æ³•å³æ—¶æ´»åŠ¨ã€‚
* STEM ç ”ç©¶ï¼šè®©äººä»¬ä¸è´¹å¹ç°ä¹‹åŠ›å°±èƒ½è¿è¡Œæ‚¨çš„æ¨¡å‹æˆ–ç®—æ³•ã€‚
* æ•°æ®æµè§ˆå™¨ï¼šFunix å¯æˆä¸ºæµè§ˆæ•°æ®ã€å›¾è¡¨çš„å·¥å…·ã€‚
* A/B æµ‹è¯•å’Œæ•°æ®æ ‡æ³¨ï¼šå¯ç”¨äºæ”¶é›†äººå·¥æ ‡æ³¨çš„ä¿¡æ¯å’Œåå¥½ã€‚

## ä¸»è¦ä¼˜åŠ¿

* **æç®€ä¸»ä¹‰ã€å¼€ç®±å³ç”¨**ï¼šä»…éœ€å¯¹ç°æœ‰ä»£ç è¿›è¡Œå°‘é‡ä¿®æ”¹ï¼Œäº¦æˆ–ä¸è¿›è¡Œä¿®æ”¹å°±å¯ä½¿ç”¨ã€‚
* **Python ä¸­çš„ CSS**ï¼šéƒ¨ä»¶ï¼ˆWidgetsï¼‰åŸºäºå˜é‡ç±»å‹å’Œæ ·å¼ä¸»é¢˜è‡ªåŠ¨ç”Ÿæˆï¼Œè€Œéæ‰‹åŠ¨å•ç‹¬è®¾ç½®ï¼Œä»è€Œå®ç°äº†è·¨ Funix åº”ç”¨ç¨‹åºçš„é›†ä¸­ã€å¯é‡ç”¨å’Œä¸€è‡´çš„ç”¨æˆ·ç•Œé¢ã€‚
* **éä¾µå…¥æ€§å’Œå£°æ˜å¼**ï¼šç”¨æˆ·ç•Œé¢é…ç½®ä½œä¸º JSON å­—ç¬¦ä¸²ï¼Œä¸æ ¸å¿ƒé€»è¾‘åˆ†å¼€ã€‚æ‚¨çš„ä»£ç å¯ç…§æ—§è¿è¡Œã€å¯¼å…¥å’Œè°ƒç”¨ã€‚
* **å¤©ç”Ÿ Pythonic è€…**ï¼šå°† Python åŸç”Ÿå…³é”®å­—å¯¹åº”åˆ° Web åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ï¼š`global` ç”¨äºä¼šè¯ï¼Œ`yield` ç”¨äºæµå¼ä¼ è¾“ï¼Œä»¥åŠç”¨äºéšæ—¶å±•ç¤ºåˆ°å‰ç«¯çš„ `print`ã€‚
* **åº”ç”¨ï¼Œè€Œé Demo**ï¼šå¼€ç®±å³æ”¯æŒ[è®¿é—®æ§åˆ¶](https://github.com/TexteaInc/funix-doc/blob/main/Reference.md#secret)ï¼Œè°ƒç”¨è¿½è¸ªå’Œä¸è¿½è¸ªæ”¯æŒï¼Œ[å¤šé¡µé¢ç¨‹åº](https://github.com/TexteaInc/funix-doc/blob/main/Reference.md#multipage-apps-and-sessionsstates) å’Œåº”ç”¨é—´æ•°æ®ä¼ è¾“ï¼Œä¼šè¯ç®¡ç†ï¼ŒåŠ¨æ€è¾“å…¥ï¼Œåç«¯é¥æµ‹ç­‰ç­‰â€¦â€¦

### å–œæ¬¢ Funixï¼Œç‚¹ä¸ª Star å§

![Borrowed from AppFlowy](https://github.com/AppFlowy-IO/AppFlowy/raw/main/doc/imgs/howtostar.gif)

## ä½ å¥½ï¼Œä¸–ç•Œ

1. å®‰è£… Funix ([é«˜çº§å®‰è£…æ–¹å¼](#å®‰è£…)):

    ```sh
    pip install funix
    ```

2. å°†ä¸‹åˆ—ä»£ç ä¿å­˜ä¸º `hello.py`ï¼š-

    ```python
    def hello(your_name: str) -> str:
        return f"Hello, {your_name}."
    ```

3. è¿è¡Œå¦‚ä¸‹ä»£ç ï¼š

    ```bash
    funix hello.py
    ```

4. Funix å°†ä¼šå”¤èµ·æ‚¨çš„æµè§ˆå™¨ï¼Œè®¿é—® `http://localhost:3000`:

    ![screenshots/hello.png](https://github.com/TexteaInc/funix-doc/raw/main/screenshots/hello.png)

<!-- > **Note**: The `-l` flag stands for _"lazy"_ meaning that only default settings are used. It cannot be used when your function is decorated by the funix decorator `@funix()` which allows you to customize your app. For more details, please refer to the [reference manual]([docs/Reference.md](https://github.com/TexteaInc/funix-doc/blob/main/Reference.md)). -->

## å¿«é€Ÿä¸Šæ‰‹

**Funix ä¹‹é“**ä¾¿æ˜¯æ ¹æ®å‡½æ•°çš„å…¥å‚ç±»å‹å’Œè¿”å›ç±»å‹ç”Ÿæˆéƒ¨ä»¶ï¼Œè€Œéä¸ºæ¯ä¸ªå‚æ•°æŒ‘é€‰å’Œå®šåˆ¶éƒ¨ä»¶ã€‚**Funix ä¹‹äº Pythonï¼Œå°±å¦‚ CSS ä¹‹äº HTMLï¼Œå®ä¹‹äº LaTeX**ã€‚UI ç›¸å…³çš„å†…å®¹ä¸ä¸æ ¸å¿ƒé€»è¾‘æ··åˆï¼Œè€Œæ˜¯å•ç‹¬å®šä¹‰ã€‚ç±»å‹-éƒ¨ä»¶çš„æ˜ å°„ç”±ä¸»é¢˜æ§åˆ¶ï¼Œè¿˜å¯åœ¨ç°æœ‰çš„ç±»å‹åŸºç¡€ä¸Šå®šä¹‰æ–°çš„ç±»å‹ã€‚

ä¸‹æ–¹çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä»å››ç§ Python åŸç”Ÿç±»å‹ç”Ÿæˆæ™®é€šçš„ UI ç»„ä»¶ï¼š`str`, `bool`, `Literal` å’Œ `range`ï¼Œä»¥åŠæµè¡Œè½¯ä»¶åŒ…ä¸­çš„ç±»å‹ï¼Œå¦‚ `ipywidgets.Password`ã€‚ä¸‹é¢çš„ç¤ºä¾‹è¿˜è¿›ä¸€æ­¥å°†é»˜è®¤å€¼æ˜ å°„åˆ°ç”¨æˆ·ç•Œé¢éƒ¨ä»¶ä¸­çš„å ä½ç¬¦ã€‚ä»æ­¤ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¼€å‘äººå‘˜**æ— éœ€å­¦ä¹ ä»»ä½•æœ‰å…³ Funix çš„çŸ¥è¯†ï¼Œä¹Ÿæ— éœ€å¯¹ç°æœ‰ä»£ç åšä»»ä½•ä¿®æ”¹**å°±å¯è·å–ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚

```python
import typing # Python native 

import ipywidgets  # popular UI library 

def input_widgets_basic(
    prompt: str = "Who is Oppenheimer?",
    advanced_features: bool = True,
    model: typing.Literal['GPT-3.5', 'GPT-4.0', 'Falcon-7B'] = 'GPT-4.0',
    max_token: range(100, 200, 20) = 140,
    openai_key: ipywidgets.Password = "1234556",
    )  -> str:
    pass
```

![four input types](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/input_widgets.png)

ä¸‹æ–¹çš„ç¤ºä¾‹å±•ç¤ºäº†äººå·¥æ™ºèƒ½/æ•°æ®å¼€å‘äººå‘˜å†ç†Ÿæ‚‰ä¸è¿‡çš„ `pandas.DataFrame` å’Œ `matplotlib.figure.Figure` æ˜¯å¦‚ä½•æ˜ å°„åˆ°åº”ç”¨ç¨‹åºä¸­çš„è¡¨æ ¼å’Œå›¾è¡¨çš„ã€‚

```python
import pandas, matplotlib.pyplot
from numpy import arange, log
from numpy.random import random

def table_and_plot(
    df: pandas.DataFrame = pandas.DataFrame({
        "a": arange(500) + random(500)/5,
        "b": random(500)-0.5 + log(arange(500)+1),
        "c": log(arange(500)+1) })
    ) -> matplotlib.figure.Figure:

    fig = matplotlib.pyplot.figure()
    matplotlib.pyplot.plot(df["a"], df["b"], 'b')
    matplotlib.pyplot.plot(df["a"], df["c"], 'r')

    return fig
```

![table and plot screenshot](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/table_plot.png)

ä½ ç”šè‡³å¯ä»¥æ ¹æ®ç”¨æˆ·éšæ—¶çš„è¾“å…¥ä¸æ–­æ›´æ–°å›¾åƒï¼š

```python
import funix 
import matplotlib.pyplot, matplotlib.figure
import numpy 

@funix.funix(
        autorun=True, 
)
def sine(omega: funix.hint.FloatSlider(0, 4, 0.1)) -> matplotlib.figure.Figure:
    fig = matplotlib.pyplot.figure()
    x = numpy.linspace(0, 20, 200)
    y = numpy.sin(x*omega)
    matplotlib.pyplot.plot(x, y, linewidth=5)
    return fig
```

![continuous sine function](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/continous_run_sine.gif)

### å¼€ç®±å³æ”¯æŒç±»ä¸ OOP

Funix å¯å°†ç±»ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å˜æˆåº”ç”¨ç¨‹åºä¸­çš„ä¸€ä¸ªé¡µé¢ã€‚

åªéœ€ä¸¤è¡Œä»£ç ï¼Œä¸‹æ–¹çš„ç¤ºä¾‹å°±èƒ½å°†ç±»å®šä¹‰è½¬åŒ–ä¸ºå¤šé¡µé¢åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­ç±»å¯¹è±¡çš„å®ä¾‹åŒ–åœ¨ä¸ç±»çš„æ„é€ å‡½æ•°ç›¸å¯¹åº”çš„é¡µé¢ä¸­å®Œæˆï¼Œå¯¹è±¡çš„æˆå‘˜å€¼å¯åœ¨å…¶ä»–é¡µé¢ä¸­æŸ¥çœ‹å’Œæ›´æ–°ã€‚**æ— éœ€æ‰‹åŠ¨å…¬å¼€**ç±»çš„æˆå‘˜æ–¹æ³•ã€‚

```python
from funix import funix_class

@funix_class()  
class A:
    def __init__(self, a: int):
        self.a = a
        return f"`self.a` has been initialized to {self.a}"

    def set(self, b: int) -> str:
        self.a = b
        return f"`self.a` has been updated to {self.a}"

    def get(self) -> str:
        return f"The value of `self.a` is {self.a}"
```

![class demo app gif](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/videos/class/class.gif)

Wordle æ¸¸æˆå°±æ˜¯ä¸€ä¸ªæ›´é«˜çº§çš„ä¾‹å­ï¼Œä½ å¯ä»¥ä»è¿™é‡Œè·å–å®ƒçš„æºä»£ç ï¼š[`examples/wordle.py`](./examples/games/wordle.py)ã€‚ä¸åˆ°ç™¾è¡Œå°±å¯å®ç° Wordleï¼Œæ¥çœ‹æˆªå›¾ï¼š

![Wordle demo](https://github.com/TexteaInc/funix-doc/blob/main/screenshots/wordle.png?raw=true)

### æ­å»º GenAI åº”ç”¨ç¨‹åºçš„æœ€å¿«æ–¹å¼

åœ¨ Funix ä¸­ï¼Œä½ å¯å°†ä»»ä½• Python å‡½æ•°éƒ½å˜ä¸º Web åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä» OpenAI çš„ API å‚è€ƒèµ„æ–™ä¸­è·å– ChatGPT æ¼”ç¤ºä»£ç ï¼Œå¹¶å°†å…¶å°è£…ä¸º str-to-str å‡½æ•°ï¼š

```python
from openai import OpenAI

def ChatGPT(prompt: str) -> str:    
    client = OpenAI()

    completion = client.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=[
            {"role": "user", "content": prompt}
        ]
    )
    return completion.choices[0].message.content
```

è¿™æ ·ï¼Œå¤§åŠŸå‘Šæˆï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![screenshots/ChatGPT_lazy.png](https://github.com/TexteaInc/funix-doc/raw/main/screenshots/chatGPT_lazy.png)

### ä¸»é¢˜ï¼šPython ä¸­çš„ CSS

**Funix ä¹‹äº Pythonï¼Œå°±å¦‚ CSS ä¹‹äº HTMLï¼Œå®ä¹‹äº LaTeX** ä¸»é¢˜åˆ†éš”äº†ä¸»è¦çš„é€»è¾‘å’Œ UI å†…å®¹ã€‚
æ‰€æœ‰ UI å†…å®¹éƒ½é›†ä¸­åœ¨ä¸€ä¸ª JSON æ ¼å¼çš„ä¸»é¢˜ä¸­è¢«å®šä¹‰ï¼Œä»¥é¿å…é‡å¤å•ç‹¬é…ç½®éƒ¨ä»¶ï¼Œå¹¶åœ¨ä¸åŒåº”ç”¨ç¨‹åºä¸­ä¿æŒä¸€è‡´çš„å¤–è§‚ã€‚å› æ­¤ï¼Œæ•°æ®ç§‘å­¦å®¶æˆ–æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆæ— éœ€è€ƒè™‘ä»»ä½•ç”¨æˆ·ç•Œé¢é—®é¢˜ï¼Œåªéœ€å°†å…¶äº¤ç»™ UI å›¢é˜Ÿå’Œ Funix å³å¯ã€‚

ä¸‹æ–¹æ˜¯ä¸€ä¸ªä¸»é¢˜æ–‡ä»¶çš„ç¤ºä¾‹ã€‚å®ƒæ ¹æ®å˜é‡ç±»å‹å®šä¹‰éƒ¨ä»¶å¦‚ä½•é€‰æ‹©ï¼Œå¹¶è°ƒæ•´ç”¨æˆ·ç•Œé¢çš„ç»„ä»¶ï¼ˆç›®å‰ä»…æ”¯æŒ MUIï¼‰ã€‚Funix å‘å¼€å‘äººå‘˜å…¬å¼€äº†å‰ç«¯ç»„ä»¶åŠå…¶å±æ€§ï¼ˆ`props`ï¼‰ï¼Œæ— éœ€ä»–ä»¬äº†è§£æœ‰å…³å‰ç«¯çš„çŸ¥è¯†ã€‚å¦‚æœæƒ³çŸ¥é“å¦‚ä½•å®šä¹‰å’Œåº”ç”¨ä¸€ä¸ªä¸»é¢˜ï¼Œè¯·ç§»æ­¥è‡³[å¼€å‘æ‰‹å†Œä¸­çš„ä¸»é¢˜ç« èŠ‚](https://github.com/TexteaInc/funix-doc/blob/main/Reference.md#themes)ã€‚

```jsonc
{
  "name": "test_theme",
  "widgets": {    // dict, map types to widgets
    "str": "inputbox", // using Funix' widget shorthand
    "int": "slider[0,100,2]", // using Funix' widget shorthand
    "float": {
        "widget": "@mui/material/Slider", // using MUI's widget
        // https://mui.com/material-ui/api/slider
        "props": {
            "min": 0,
            "max": 100,
            "step": 0.1
        }
    }, 
    "Literal": "radio"
  },
}
```

è¦æƒ³å¼•å…¥æ–°æ•°æ®ç±»å‹å¹¶åœ¨ Funix ä¸­ä½¿ç”¨ï¼Œæ‚¨åªéœ€è¦å£°æ˜ä¸€ä¸ªæ–°çš„ Python ç±»ï¼Œå¹¶ä½¿ç”¨è£…é¥°å™¨è®© Funix çŸ¥é“ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ä»£ç ä¸­éšæ—¶æ’å…¥çš„å®šä¹‰ï¼ˆå¦‚ä¸‹ï¼‰æˆ–ä¸»é¢˜æ–‡ä»¶å°†è¯¥ç±»å‹ä¸ widget å…³è”ï¼š

```python
from funix import funix, new_funix_type

@new_funix_type(
    widget = {
        "widget": "@mui/material/TextField",
        "props": {
            "type": "password",
            "placeholder": "Enter a secret here."
        }
    }
)
class blackout(str):
    def print(self):
        return self + " is the message."

@funix()
def hoho(x: blackout = "Funix Rocks!") -> str:
    return x.print()

if __name__ == "__main__":
    print (hoho(blackout('Fun'))) 
```

### åŸç”Ÿ Python åŠŸèƒ½åˆ° Web

Funix å¯å°†ä¸€äº› Python åŸç”ŸåŠŸèƒ½è½¬è¯‘ä¸º Web åŠŸèƒ½ã€‚

é¦–å…ˆï¼ŒFunix å¹¶ä¸ä¼šå°†æ‚¨çš„ docstring æˆ– `print()` å‡½æ•°è°ƒç”¨ç™½ç™½æµªè´¹ã€‚å®ƒä»¬ä¼šå‡ºç°åœ¨ Web åº”ç”¨ç¨‹åºçš„è¾“å…¥ã€è¾“å‡ºé¢æ¿ä¸Šã€‚

```python
from funix import funix
@funix(
    print_to_web=True
)
def foo() -> None:
    """
    ## What a great app in Funix! 
    
    Funix won't let your docstring go to waste.
    """
    print("It supports **Markdown**.")
    print ("And <b>HTML</b>.")
    return None
```

![Docstring and print to web](https://github.com/TexteaInc/funix-doc/blob/main/screenshots/docstring_and_print.png?raw=true)

å°†æ–‡æœ¬æµå¼ä¼ è¾“åˆ°ç½‘é¡µä¸Šï¼Œåªéœ€è¦ç®€å•åœ°ä½¿ç”¨ `yield`ï¼š

```python
import time

def stream() -> str:
    """
    This function is used to test the stream feature of Funix.
    """
    message = "We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defence, promote the general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America."

    for i in range(len(message)):
        time.sleep(0.01)
        yield message[0:i]
```

![Streamt text to web](https://github.com/TexteaInc/funix-doc/blob/main/screenshots/stream.gif?raw=true)

## é«˜çº§åŠŸèƒ½

### å†å²è®°å½•ï¼šä¿å­˜æ‚¨çš„è°ƒç”¨å†å²

<details>
<summary>
ç‚¹å‡»å±•å¼€/æ”¶èµ·
</summary>

æˆ‘ä»¬ä»è®¸å¤šç”¨æˆ·é‚£é‡Œå¬åˆ°çš„ä¸€ä¸ªåŠŸèƒ½è¦æ±‚æ˜¯ï¼Œä»–ä»¬ä¸ä¼šæŠŠ Funix è½¬æ¢çš„ App ä½œä¸ºä»…ä½¿ç”¨å‡ æ¬¡çš„ Demo ç¨‹åºæ¥ä½¿ç”¨ï¼Œè€Œæ˜¯å°†å…¶ä½œä¸ºä¸€ä¸ªçœŸæ­£çš„åº”ç”¨ç¨‹åºæ¥åå¤ä½¿ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»–ä»¬å¸Œæœ›ä¿ç•™åº”ç”¨ç¨‹åºçš„è°ƒç”¨è®°å½•ã€‚Funix é»˜è®¤æ”¯æŒæ­¤åŠŸèƒ½ã€‚æ‚¨å¯ä»¥ç‚¹å‡»åº”ç”¨ç¨‹åºå³ä¸Šè§’çš„å†å²è®°å½•æŒ‰é’®è®¿é—®åº”ç”¨ç¨‹åºçš„å†å²è®°å½•ã€‚

![history sidebar](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/history_sidebar.gif)

</details>

### å¤šé¡µé¢æ•°æ®ä¼ é€’å’Œä¼šè¯æˆ–çŠ¶æ€ç®¡ç†

<details>
<summary>
ç‚¹å‡»å±•å¼€/æ”¶èµ·
</summary>

ä¸€ä¸ªçœŸæ­£çš„åº”ç”¨ç¨‹åºé€šå¸¸æœ‰å¤šä¸ªé¡µé¢ï¼Œä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªé¡µé¢è®¾ç½® OpenAI çš„ä»¤ç‰Œå¯†é’¥ï¼Œç„¶ååœ¨å…¶ä»– GenAI é¡µé¢ä½¿ç”¨è¯¥ä»¤ç‰Œã€‚åŒä¸€ä¸ª `.py` è„šæœ¬ä¸­çš„å‡½æ•°å°†æˆä¸ºä¸€ä¸ª App çš„ä¸åŒé¡µé¢ã€‚ä»»ä½•å…¨å±€å˜é‡éƒ½å¯ç”¨äºåœ¨å‡½æ•°é—´ä¼ é€’æ•°æ®ã€‚åœ¨ä½¿ç”¨ `-t` æ ‡å¿—å¯åŠ¨ Funix æ—¶ï¼Œä»–ä¼šè¿›ä¸€æ­¥å°†å…¨å±€å˜é‡ä¼šè¯åŒ–ï¼Œè¿™æ ·ä¸åŒçš„ç”¨æˆ·å°±å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ä¼šè¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­å’Œç›¸åº”çš„ GIF åŠ¨ç”»ã€‚åœ¨ GIF åŠ¨ç”»ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæµè§ˆå™¨ä¼šè¯ä¸­çš„ `y` å˜é‡æœ‰æ‰€ä¸åŒã€‚

```python
import funix

y = "The default value of y."

@funix.funix()
def set_y(x: str="123") -> str:
    global y
    y = x
    return "Y has been changed. Now check it in the get_y() page."


@funix.funix()
def get_y() -> str:
    return y
```

![session](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/session.gif)

</details>

### é¢„å¡«å……

<details>
<summary>
ç‚¹å‡»å±•å¼€/æ”¶èµ·
</summary>

å‡½æ•°é—´ä¼ é€’æ•°æ®çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µä¾¿æ˜¯ï¼Œä½¿ç”¨ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°å‚æ•°çš„åˆå§‹å€¼ã€‚è¿™ç§æƒ…å†µç§°ä¹‹ä¸ºé¢„å¡«å……ã€‚Funix é€šè¿‡è£…é¥°å™¨å±æ€§ `pre_fill` æ¥æ”¯æŒé¢„å¡«å……ã€‚ä¸‹æ–¹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

```python
import funix

@funix.funix()
def first_action(x: int) -> int:
  return x - 1

@funix.funix()
def second_action(message: str) -> list[str]:
  return message.split(" ")

@funix.funix()
def third_action(x: int, y: int) -> dict:
  return {"x": x, "y": y}

@funix.funix(
  pre_fill={
    "a": first_action,
    "b": (second_action, -1),
    "c": (third_action, "x")
  }
)
def final_action(a: int, b: str, c: int) -> str:
    return f"{a} {b} {c}"
```

<!-- FIXME: ADD GIF IMAGE HERE -->
</details>

### å¯†é’¥ï¼šè®¿é—®æ§åˆ¶

<details>
<summary>
ç‚¹å‡»å±•å¼€/æ”¶èµ·
</summary>

> [!NOTE]
> è¿™ä¸æ˜¯ä¿æŠ¤æ‚¨åº”ç”¨ç¨‹åºçš„æœ€ä½³å®è·µã€‚

ä¸ºäº†ä¿æŠ¤æ‚¨çš„ä»£ç ï¼ˆä¾‹å¦‚ï¼Œä¸ OpenAI ç›¸å…³çš„å‡½æ•°ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ç»æµæŸå¤±ï¼‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `secret` é€‰é¡¹ï¼š

```bash
funix my_app.py --secret my_secret_token # æ‚¨è‡ªå·±æä¾› Token
# or 
funix my_app.py --secret True # éšæœºç”Ÿæˆ Token
```

ä»¤ç‰Œå°†å±•ç¤ºåœ¨ç»ˆç«¯ä¸Šï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```bash
$ funix hello.py --secret True
Secrets:
---------------
Name: hello
Secret: 8c9f55d0eb74adbb3c87a445ea0ae92f
Link: http://127.0.0.1:3000/hello?secret=8c9f55d0eb74adbb3c87a445ea0ae92f
```

éœ€è¦åœ¨ URL ä¸­åŒ…å«ä»¤ç‰Œæˆ–æ‰‹åŠ¨è¾“å…¥ä»¤ç‰Œæ‰èƒ½æ‰§è¡Œåº”ç”¨ç¨‹åºã€‚

![secret](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/secret.gif)

</details>

## æ¼”ç¤ºå†…å®¹

æ›´å¤šä¾‹å­å¯åœ¨<a href="https://github.com/TexteaInc/funix-doc/blob/main/Reference.md">å¼€å‘æ‰‹å†Œ</a>æˆ–åœ¨ <code>./examples</code> æ–‡ä»¶å¤¹ä¸­å¯è§ã€‚

* [ChatPaper](https://github.com/forrestbao/ChatPaper)ï¼ˆå®ƒå¥½æ¯”æµè¡Œçš„ ChatPDFã€‚ä½†åœ¨ Funix ä¸­ï¼Œåªéœ€è¦ 70 è¡Œä»£ç ã€‚ï¼‰
* [mFlux](https://github.com/Yazawazi/MFlux)ï¼ˆåˆæˆç”Ÿç‰©å­¦ï¼‰

### ChatGPTï¼Œå¤šè½®å¯¹è¯

<details>
  <summary><code>examples/AI/chatGPT_multi_turn.py</code> ğŸ‘ˆ ç‚¹æˆ‘æŸ¥çœ‹/æ”¶èµ·æºç  </summary>

  ```python
    import os
    import IPython     
    from openai import OpenAI
    import funix

    client = OpenAI(api_key=os.environ.get("OPENAI_KEY"))

    messages  = []  # list of dicts, dict keys: role, content, system

    @funix.funix(
        disable=True,
    )
    def print_messages_html(messages):
        printout = ""
        for message in messages:
            if message["role"] == "user":
                align, name = "left", "You"
            elif message["role"] == "assistant":
                align, name = "right", "ChatGPT"
            printout += f'<div style="width: 100%; text-align: {align}"><b>{name}</b>: {message["content"]}</div>'
        return printout


    @funix.funix(
        direction="column-reverse",
    )
    def ChatGPT_multi_turn(current_message: str)  -> IPython.display.HTML:
        current_message = current_message.strip()
        messages.append({"role": "user", "content": current_message})
        completion = client.chat.completions.create(messages=messages,
        model='gpt-3.5-turbo',
        max_tokens=100)
        chatgpt_response = completion.choices[0].message.content
        messages.append({"role": "assistant", "content": chatgpt_response})

        # return print_messages_markdown(messages)
        return print_messages_html(messages)

  ```

</details>

![Multiturn chat](https://github.com/TexteaInc/funix-doc/raw/main/screenshots/chatGPT_multiturn.png)

### ç”¨ Python ç¼–å†™æœ€çŸ­çš„ Dall-E Web App

```python
from funix import funix                      # add line one
from IPython.display import Image
from openai import OpenAI                    # pip install openai

import os
client = OpenAI(api_key=os.environ.get("OPENAI_KEY"))  


@funix()                                     # add line three
def dalle(prompt: str = "a cat") -> Image:
    response = client.images.generate(prompt=prompt)
    return response.data[0].url
```

![Dalle demo](https://github.com/TexteaInc/funix-doc/raw/main/screenshots/dalle.jpg)

<!-- Funix.io can get the same job done in half the amount of code required by Gradio, by exploiting the Python language as much as possible. Here, state/session is maintained using a global variable, while the order of the returns defines the return layout.  -->

### ç”Ÿç‰©ä¿¡æ¯å­¦ï¼šçŸ¢é‡ä¿®å‰ª

[<code>examples/bioinformatics/vector_strip.py</code>](./examples/bioinformatics/vector_strip.py) ğŸ‘ˆ ç‚¹å‡»æŸ¥çœ‹æºç 

![bioinfo vector strip](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/bioinfo_vector_strip.png)

### å¤šåª’ä½“è¾“å…¥è¾“å‡º

<details>
<summary><code>examples/multimedia/rgb2gray.py</code> ğŸ‘ˆ ç‚¹æˆ‘æŸ¥çœ‹/æ”¶èµ·æºç  </summary>

```python
import  io # Python's native 

import PIL # the Python Image Library
import IPython 
import funix 

@funix.funix(
    title="Convert color images to grayscale images",
)
def gray_it(image: funix.hint.BytesImage) -> IPython.display.Image:
    img = PIL.Image.open(io.BytesIO(image))
    gray = PIL.ImageOps.grayscale(img) 
    output = io.BytesIO()
    gray.save(output, format="PNG")
    return output.getvalue()
```

</details>

![shipping example](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/rgb2gray.png)

### å¸ƒå±€å’Œ EasyPost å¿«é€’å•

[`examples/layout_easypost_shipping.py`](./examples/layout_easypost_shipping.py) ğŸ‘ˆ ç‚¹å‡»æŸ¥çœ‹æºç 

![shipping example](https://raw.githubusercontent.com/TexteaInc/funix-doc/main/screenshots/easypost_shipping.png)

## ä½¿ç”¨

### å®‰è£…

* ä» PyPI å®‰è£…ï¼ˆç¨³å®šç‰ˆæœ¬ï¼Œç¼ºå°‘æœ€æ–°åŠŸèƒ½ï¼‰

    ```bash
    pip install funix
    ```

* ä» GitHub å®‰è£…ï¼ˆå¼€å‘æˆ–ç¨³å®šç‰ˆæœ¬ï¼‰

    ```bash
    pip install "git+https://github.com/TexteaInc/funix.git@develop" # å¼€å‘
    pip install "git+https://github.com/TexteaInc/funix.git" # ç¨³å®š
    ```

* æœ¬åœ°å¼€å‘

    ```bash
    git clone -b develop https://github.com/TexteaInc/funix
    cd funix
    pip install -e .
    ```

    æ·»åŠ  `--prefix=~/.local` å¦‚æœ pip è¯•å›¾å°†å…¶å®‰è£…åœ¨ç³»ç»Ÿè·¯å¾„ã€‚è¯¦è§ [#24](https://github.com/TexteaInc/funix/issues/24) å’Œ [#23](https://github.com/TexteaInc/funix/issues/23)

### é¢å¤–æ”¯æŒ

1. å¦‚æœä½ æƒ³ä½¿ç”¨ Git ç›¸å…³çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ä» GitHub æ‹‰å–é¡¹ç›®ï¼Œè¯·è¿™æ ·å®‰è£… Funixï¼š

    ```bash
    pip install funix[git]
    ```

2. å¦‚æœä½ æƒ³ä½¿ç”¨ `ipython` ç›¸å…³çš„åŠŸèƒ½ï¼š

    ```bash
    pip install funix[ipython]
    ```

3. æˆ–è®¸æœªæ¥æœ‰å…¶ä»–å¯é€‰çš„æ–°åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥è¯•ç€å®‰è£…å®Œå…¨çš„ Funixï¼š

    ```bash
    pip install funix[all]
    ```

### æ„å»ºå‰ç«¯

å¦‚æœæ‚¨éœ€è¦å‚ä¸ Funix çš„å·¥ä½œï¼Œæˆ–ä½¿ç”¨å¼€å‘ç‰ˆæœ¬çš„ Funixï¼Œæ‚¨éœ€è¦è‡ªå·±æ„å»ºå‰ç«¯ã€‚å‡è®¾æ‚¨å·²åœ¨ `funix` æ–‡ä»¶å¤¹ä¸­ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

1. `cd frontend`
2. `yarn install`ï¼ˆä½ éœ€è¦å®‰è£… Node.JS å’Œ Yarn åŒ…ç®¡ç†å™¨ï¼‰
3. `yarn funix:build`ï¼ˆæ„å»ºå‰ç«¯ä»¥ä¾¿äº Funix ä½¿ç”¨ï¼‰

å¯¹äºéœ€è¦è°ƒè¯•çš„å¼€å‘è€…ï¼Œä»¥ä¸‹æ˜¯ç®€å•çš„æŒ‡å—ï¼š

1. `yarn funix:test`ï¼ˆè¿›å…¥å¼€å‘æ¨¡å¼ï¼‰
2. `funix xxx -p 8080 -F`ï¼ˆä½¿ç”¨ 8080 ç«¯å£çš„æ— å‰ç«¯æ¨¡å¼ï¼‰

è¿™æ ·ï¼Œæ‚¨åº”è¯¥å¯ä»¥è°ƒè¯•Funix çš„å‰åç«¯ä¸æ‚¨çš„åº”ç”¨ç¨‹åºäº†ã€‚

#### ä½¿ç”¨ MUI Pro

æˆ‘ä»¬çš„è¡¨æ ¼ç»„ä»¶å¯ä»¥ä½¿ç”¨ MUI Pro ä¸­çš„é«˜çº§åŠŸèƒ½ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ª MUI Pro çš„è¯ä¹¦è®¸å¯ï¼Œä½ å¯ä»¥ä½¿ç”¨è‡ªå·±çš„ MUI Pro è¯ä¹¦å¹¶æ„å»ºå‰ç«¯ï¼š

1. ç¡®ä¿å®‰è£…äº† Node.js å’Œ Yarnï¼›
2. åœ¨ `frontend` æ–‡ä»¶å¤¹ä¸­åˆ›å»º `.env` æ–‡ä»¶ï¼›
3. æ·»åŠ  `MUI_PRO_LICENSE_KEY=[your_key]` åˆ°ä½ çš„æ–‡ä»¶ï¼›
4. è¿è¡Œ `yarn install && yarn funix:build` æ„å»ºå‰ç«¯ï¼›
5. ä¸‡äº‹å¤§å‰ï¼

### å‘½ä»¤è¡Œé€‰é¡¹

è¿è¡Œä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å‘½ä»¤è¡Œé€‰é¡¹ï¼š

```bash
funix -h 
```

### åœ¨ Python ä¸­è°ƒç”¨ Funix

é™¤äº†ä»å‘½ä»¤è¡Œå¯åŠ¨ Funix å¤–ï¼Œæ‚¨è¿˜å¯åœ¨ `.py` è„šæœ¬ä¸­ä½¿ç”¨ Funixï¼š

```python
import funix

@funix.funix()
def hello(your_name: str) -> str:
    return f"Hello, {your_name}."

if __name__ == "__main__":
    funix.run(__file__)
```

### å…¬å¼€ Funix åº”ç”¨ç¨‹åº

```bash
funix [module] --host [your_server_ip]
```

## å¦‚ä½•è´¡çŒ®

Funix é‡‡ç”¨ MIT è®¸å¯å¼€æºã€‚æˆ‘ä»¬ä¸ä»…æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼Œè€Œä¸”å¸Œæœ›æ¥è‡ªç¤¾åŒºçš„è´¡çŒ®ã€‚å¦‚æœæ‚¨å‡†å¤‡å¥½äº†ï¼Œè¯·éšæ—¶ Fork å¹¶æå‡ºæ‹‰å–è¯·æ±‚ã€‚æ‚¨è¿˜å¯ä»¥é€šè¿‡ [Issue è¿½è¸ªå™¨](https://github.com/TexteaInc/funix/issues/new)æˆ–æˆ‘ä»¬çš„ [Discord æœåŠ¡å™¨](https://discord.gg/JyANAMUAHM)æŠ¥å‘Šé”™è¯¯ï¼Œå»ºè®®æ–°åŠŸèƒ½ç­‰ã€‚

## è‡´è°¢

Funix ä» FastAPI å’Œ Google Fire ä¸­æ±²å–çµæ„Ÿï¼šé€è¿‡æ¨æ–­åŒ…å«ç±»å‹æç¤ºçš„å‡½æ•°ç­¾åæ¥æ„å»ºè½¯ä»¶ç•Œé¢ã€‚æˆ‘ä»¬ä»è¿™ä¸€æƒ³æ³•ä»åç«¯ï¼ˆFastAPIï¼‰æˆ–ç»ˆç«¯ï¼ˆPython-Fireï¼‰ç§»æ¤åˆ°å‰ç«¯ã€‚æˆ‘ä»¬è¿˜è¦æ„Ÿè°¢ Streamlitã€Gradioã€PyWebIO å’Œ Pynecone/Reflexã€‚å®ƒä»¬å¯å‘äº†æˆ‘ä»¬ã€‚æˆ‘ä»¬åªæ˜¯å¤ªæ‡’äº†ï¼Œæ‡’å¾—æ‰‹åŠ¨å®šä¹‰éƒ¨ä»¶ã€‚Funix çš„åç«¯ç”± Flask å®ç°ï¼Œå‰ç«¯ç”± MUI å®ç°ã€‚

## è”ç³»æ–¹å¼

hello at funix dot io
